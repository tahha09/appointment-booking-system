<div
  class="min-h-[calc(100vh-120px)] flex items-center justify-center bg-gradient-to-br from-brand-deep via-brand-teal to-brand-slate py-10 px-4">
  <div
    class="w-full max-w-5xl bg-transparent backdrop-blur-xl border border-white/40 rounded-[2.25rem] shadow-[0_24px_80px_rgba(0,0,0,0.35)] overflow-hidden grid grid-cols-1 md:grid-cols-2">
    <!-- Left panel -->
    <div
      class="hidden md:flex flex-col justify-between bg-gradient-to-b from-brand-deep via-brand-teal to-brand-slate text-white p-10 relative">
      <div class="absolute inset-0 opacity-20 pointer-events-none">
        <div class="absolute -top-10 -right-16 h-40 w-40 rounded-full bg-brand-ice blur-3xl"></div>
        <div class="absolute bottom-0 left-8 h-32 w-32 rounded-full bg-brand-teal-light blur-3xl"></div>
      </div>

      <div class="relative z-10 space-y-6">
        <div
          class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-1 text-xs font-medium tracking-[0.25em] uppercase text-white/80">
          <span class="h-1.5 w-1.5 rounded-full bg-brand-teal-light shadow-[0_0_12px_rgba(255,255,255,0.8)]"></span>
          <span>New Password</span>
        </div>
        <h2 class="text-3xl font-semibold leading-tight">
          Set your new password.
        </h2>
        <p class="text-sm text-white/80 max-w-sm">
          Enter a strong password to secure your account.
        </p>

        <div class="mt-4 space-y-3 text-sm text-white/80">
          <div class="flex items-center gap-3">
            <span class="flex h-7 w-7 items-center justify-center rounded-full bg-white/10">
              ✓
            </span>
            <p>Use at least 8 characters.</p>
          </div>
          <div class="flex items-center gap-3">
            <span class="flex h-7 w-7 items-center justify-center rounded-full bg-white/10">
              ✓
            </span>
            <p>Include numbers and symbols.</p>
          </div>
        </div>
      </div>

      <div class="relative z-10 mt-10">
        <p class="text-xs text-white/70">Remember your password?</p>
        <a routerLink="/login" class="mt-3 inline-flex items-center text-sm font-medium text-white gap-2">
          Back to login
          <span class="inline-flex h-7 w-7 items-center justify-center rounded-full bg-white/10 border border-white/20">
            &rarr;
          </span>
        </a>
      </div>
    </div>

    <!-- Form panel -->
    <div class="p-7 sm:p-10 bg-transparent">
      <div class="mb-6">
        <div class="inline-flex items-center gap-2 rounded-full bg-white/20 px-3 py-1">
          <span class="h-2 w-2 rounded-full bg-brand-ice shadow-[0_0_10px_rgba(255,255,255,0.8)]"></span>
          <p class="text-[0.65rem] font-semibold tracking-[0.25em] uppercase text-white">
            Reset Password
          </p>
        </div>
        <h1 class="mt-3 text-2xl sm:text-3xl font-semibold text-white">
          Enter new password
        </h1>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-5">
        <div class="space-y-1.5">
          <label for="password" class="block text-sm font-medium text-white/90">New Password</label>
          <div class="relative">
            <span class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 text-brand-ice">
              <svg class="h-4 w-4" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M12 2a5 5 0 0 0-5 5v3H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-1V7a5 5 0 0 0-5-5Zm-3 5a3 3 0 0 1 6 0v3H9V7Zm3 6a1.5 1.5 0 0 1 .75 2.8V18a.75.75 0 0 1-1.5 0v-2.2A1.5 1.5 0 0 1 12 13Z" />
              </svg>
            </span>
            <input id="password" [type]="showPassword ? 'text' : 'password'" formControlName="password"
              autocomplete="new-password"
              class="block w-full rounded-2xl border border-white/40 bg-transparent pl-11 pr-11 py-3 text-sm outline-none transition focus:border-brand-teal focus:ring-2 focus:ring-brand-ice/60"
              placeholder="••••••••" />
            <button type="button"
              class="absolute inset-y-0 right-0 flex items-center pr-3 text-brand-ice/80 hover:text-white transition"
              (click)="showPassword = !showPassword" aria-label="Toggle password visibility">
              <svg class="h-4 w-4" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M12 5c-4.5 0-8.3 2.9-9.5 7 1.2 4.1 5 7 9.5 7s8.3-2.9 9.5-7c-1.2-4.1-5-7-9.5-7Zm0 2c3.1 0 5.8 1.8 7 5-1.2 3.2-3.9 5-7 5s-5.8-1.8-7-5c1.2-3.2 3.9-5 7-5Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z" />
              </svg>
            </button>
          </div>
          <div class="min-h-[1.25rem]">
            <p *ngIf="form.get('password')?.touched && form.get('password')?.invalid" class="text-xs text-red-300">
              Password must be at least 6 characters.
            </p>
          </div>
        </div>

        <div class="space-y-1.5">
          <label for="password_confirmation" class="block text-sm font-medium text-white/90">Confirm Password</label>
          <div class="relative">
            <span class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 text-brand-ice">
              <svg class="h-4 w-4" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M12 2a5 5 0 0 0-5 5v3H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-1V7a5 5 0 0 0-5-5Zm-3 5a3 3 0 0 1 6 0v3H9V7Zm3 6a1.5 1.5 0 0 1 .75 2.8V18a.75.75 0 0 1-1.5 0v-2.2A1.5 1.5 0 0 1 12 13Z" />
              </svg>
            </span>
            <input id="password_confirmation" [type]="showConfirmPassword ? 'text' : 'password'" formControlName="password_confirmation"
              autocomplete="new-password"
              class="block w-full rounded-2xl border border-white/40 bg-transparent pl-11 pr-11 py-3 text-sm outline-none transition focus:border-brand-teal focus:ring-2 focus:ring-brand-ice/60"
              placeholder="••••••••" />
            <button type="button"
              class="absolute inset-y-0 right-0 flex items-center pr-3 text-brand-ice/80 hover:text-white transition"
              (click)="showConfirmPassword = !showConfirmPassword" aria-label="Toggle confirm password visibility">
              <svg class="h-4 w-4" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M12 5c-4.5 0-8.3 2.9-9.5 7 1.2 4.1 5 7 9.5 7s8.3-2.9 9.5-7c-1.2-4.1-5-7-9.5-7Zm0 2c3.1 0 5.8 1.8 7 5-1.2 3.2-3.9 5-7 5s-5.8-1.8-7-5c1.2-3.2 3.9-5 7-5Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z" />
              </svg>
            </button>
          </div>
          <div class="min-h-[1.25rem]">
            <p *ngIf="form.get('password_confirmation')?.touched && form.get('password_confirmation')?.invalid" class="text-xs text-red-300">
              Passwords must match.
            </p>
          </div>
        </div>

        <div *ngIf="apiError" class="rounded-xl border border-red-400 bg-red-500/15 px-3 py-2 text-xs text-red-100">
          {{ apiError }}
        </div>

        <button type="submit" [disabled]="isSubmitting"
          class="inline-flex w-full items-center justify-center rounded-2xl bg-gradient-to-r from-brand-teal via-brand-ice to-brand-teal px-4 py-3 text-sm font-semibold text-slate-950 shadow-lg shadow-brand-teal/50 transition hover:from-brand-ice hover:via-brand-teal hover:to-brand-forest disabled:cursor-not-allowed disabled:opacity-70">
          <span *ngIf="!isSubmitting">Reset Password</span>
          <span *ngIf="isSubmitting">Resetting...</span>
        </button>
      </form>

      <p class="pt-4 text-center text-xs text-white/80">
        Remember your password?
        <a routerLink="/login" class="font-semibold text-brand-ice hover:text-white">
          Back to login
        </a>
      </p>
    </div>
  </div>
</div>
